# 复读插件

这是一个基于 MaiMessages 框架和 Napcat 接口开发的简单复读机插件。它可以检测群聊中连续重复的消息，并自动进行复读，为你的群聊增添更多乐趣。

✨ 主要功能
智能复读：自动检测群聊中连续出现三次相同的消息，即触发复读。

非重复复读：成功复读一次后，在下次出现新的重复消息前，不会再对同一条消息进行复读，避免无限循环。

消息过滤：

自动过滤图片、表情包等特殊格式消息，只处理纯文本内容。

自动忽略“戳一戳”等非聊天消息，确保消息队列的干净。


🛠️ 安装与配置
1. 安装插件
将 repeat_plugin 文件夹放置在你的插件目录下。

2. 配置 Napcat
此插件依赖于 Napcat HTTP API 来发送消息。请确保你的 Napcat 客户端已启动，并且 HTTP API 端口已正确配置。一定要是127.0.0.1端口！！！！！！

在 repeat_plugin 文件夹下的 plugin.py 文件中，你可以修改以下配置：

Python

# ---------------- Napcat 配置 ----------------
NAPCAT_HOST = "127.0.0.1" # Napcat 的 IP 地址，如果不在本地请修改
NAPCAT_PORT = 4999       # Napcat 的 HTTP 端口
如果你修改了 Napcat 的默认端口或 IP 地址，请确保这里也相应地进行修改。

[repeat]
repeat_probability = 1.0 # 复读概率 (0~1)，默认为 1.0 (必复读)
注意： 在目前的代码版本中，复读概率逻辑已被移除，该配置字段不再生效，但你仍可以保留它。

📝 使用说明
插件安装并正确配置后，无需额外操作。

当群内出现连续三条完全相同的消息时，机器人会自动发送该消息进行复读。例如：

消息发送者	消息内容
群成员 A	哈哈哈哈
群成员 B	哈哈哈哈
群成员 C	哈哈哈哈
机器人	哈哈哈哈


许可证
本项目遵循 MIT 许可证。